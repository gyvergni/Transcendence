<!-- ðŸ“Š Stats Dashboard Injected Content -->
<h2 class="text-2xl mb-7 font-bold text-center text-purple-300 drop-shadow-lg" data-i18n="stats.statistics">
  Statistics
</h2>

<div class="flex flex-col w-full h-[75vh] space-y-6 overflow-hidden">

  <!-- ðŸ§‘ User Selector -->
  <div class="flex justify-center">
    <label for="main-user-select" class="mr-2 font-semibold text-cyan-300" data-i18n="stats.selectUser"></label>
    <select id="main-user-select" 
      class="bg-transparent border border-cyan-400/30 rounded px-3 py-2 text-base focus:outline-none focus:ring focus:ring-cyan-500">
    </select>
  </div>

  <!-- ðŸ“ˆ Summary Boxes -->
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4">
    <div class="flex flex-col items-center bg-cyan-900/50 border border-cyan-400/20 backdrop-blur-md rounded-xl p-4 hover:bg-cyan-800/40 animate-hologram-pulse transition">
      <span class="text-sm font-medium text-cyan-300 uppercase mb-1" data-i18n="stats.totalgames"></span>
      <span id="stat-total" class="text-2xl font-extrabold text-cyan-400 drop-shadow-lg">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-green-900/50 border border-green-400/20 backdrop-blur-md rounded-xl p-4 hover:bg-green-800/40 animate-hologram-pulse transition">
      <span class="text-sm font-medium text-green-300 uppercase mb-1" data-i18n="stats.wins"></span>
      <span id="stat-wins" class="text-2xl font-extrabold text-green-400 drop-shadow-lg">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-red-900/50 border border-red-400/20 backdrop-blur-md rounded-xl p-4 hover:bg-red-800/40 animate-hologram-pulse transition">
      <span class="text-sm font-medium text-red-300 uppercase mb-1" data-i18n="stats.losses"></span>
      <span id="stat-losses" class="text-2xl font-extrabold text-red-400 drop-shadow-lg">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-purple-900/50 border border-purple-400/20 backdrop-blur-md rounded-xl p-4 hover:bg-purple-800/40 animate-hologram-pulse transition">
      <span class="text-sm font-medium text-purple-300 uppercase mb-1" data-i18n="stats.winratio"></span>
      <span id="stat-winrate" class="text-2xl font-extrabold text-purple-400 drop-shadow-lg">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-slate-900/50 border border-slate-400/20 backdrop-blur-md rounded-xl p-4 hover:bg-slate-800/40 animate-hologram-pulse transition">
      <span class="text-sm font-medium text-slate-300 uppercase mb-1" data-i18n="stats.longestRally"></span>
      <span id="stat-longestrally" class="text-2xl font-extrabold text-slate-400 drop-shadow-lg">â€”</span>
    </div>
  </div>
  <!-- ðŸ“Š Content Area -->
  <div class="flex flex-col md:flex-row gap-6 overflow-hidden h-full flex-1">
    <!-- Match history -->
    <div class="w-full md:w-1/2 bg-cyan-900/20 border border-cyan-400/20 backdrop-blur-md rounded-xl p-4 flex flex-col flex-1 hover:shadow-cyan-400/10 hover:shadow-lg transition">
      <h3 class="font-semibold text-purple-300 mb-3 text-lg tracking-wide" data-i18n="stats.lastMatches"></h3>
      <ul id="match-history" class="space-y-2 overflow-auto flex-1 pr-1">
        <!-- JS injects li elements -->
      </ul>
    </div>

    <!-- Right Column -->
    <div class="w-full md:w-1/2 flex flex-1 flex-col space-y-4 overflow-hidden">
      <!-- Matchups -->
      <div class="bg-cyan-900/20 border border-cyan-400/20 backdrop-blur-md rounded-xl p-3 flex flex-col flex-[4] hover:shadow-cyan-400/10 hover:shadow-lg transition">
        <div class="flex items-center justify-between mb-2">
          <h3 class="font-semibold text-purple-300" data-i18n="stats.guestsMatchup"></h3>
          <select id="guest-select" class="bg-transparent border border-cyan-400/20 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:ring-cyan-500">
            <option value="all" data-i18n="stats.guestsChoose"></option>
          </select>
        </div>
        <div class="flex-1 relative">
          <canvas id="guests-bar" class="absolute inset-0 w-full h-full"></canvas>
        </div>
      </div>

      <!-- Tournaments -->
      <div class="bg-cyan-900/20 border border-cyan-400/20 backdrop-blur-md rounded-xl p-3 flex-1 hover:shadow-cyan-400/10 hover:shadow-lg transition">
        <h3 class="font-semibold text-purple-300 mb-2" data-i18n="stats.tournaments">Tournaments</h3>
        <div class="flex flex-col space-y-1 text-sm">
          <div class="flex justify-between"><span>Tournaments Played</span><span id="tournaments-played" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Finals Played</span><span id="tournaments-finals" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Tournaments Won</span><span id="tournaments-won" class="font-semibold">â€”</span></div>
        </div>
      </div>

      <!-- Game averages -->
      <div class="bg-cyan-900/20 border border-cyan-400/20 backdrop-blur-md rounded-xl p-3 flex-1 hover:shadow-cyan-400/10 hover:shadow-lg transition">
        <h3 class="font-semibold text-purple-300 mb-2" data-i18n="stats.gameAverages">Game averages</h3>
        <div class="flex flex-col space-y-1 text-sm">
          <div class="flex justify-between"><span>Average Inputs</span><span id="avg-inputs" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Average Length</span><span id="avg-length" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Average Wall Bounces</span><span id="avg-wallBounces" class="font-semibold">â€”</span></div>
        </div>
      </div>

      <!-- Game Totals -->
      <div class="bg-cyan-900/20 border border-cyan-400/20 backdrop-blur-md rounded-xl p-3 flex-[2] hover:shadow-cyan-400/10 hover:shadow-lg transition overflow-auto">
        <h3 class="font-semibold text-purple-300 mb-2" data-i18n="stats.generalStats">General Stats</h3>
        <div class="flex flex-col space-y-1 text-sm">
          <div class="flex justify-between"><span>Total time played</span><span id="total-time" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Total inputs</span><span id="total-inputs" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Total wall bounces</span><span id="total-wallBounces" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Total hits</span><span id="total-hits" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Total Points won</span><span id="total-pointswon" class="font-semibold">â€”</span></div>
          <div class="flex justify-between"><span>Total Points lost</span><span id="total-pointslost" class="font-semibold">â€”</span></div>
        </div>
      </div>
    </div>
  </div>
</div>
