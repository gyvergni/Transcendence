<!-- ðŸ“Š Stats Dashboard Injected Content -->
<h2 class="text-[clamp(1rem,2vw,1.5rem)] mb-5 font-bold text-center text-purple-300 drop-shadow-lg" data-i18n="stats.statistics">
  Statistics
</h2>

<div class="flex flex-col w-full h-full space-y-4">

  <!-- ðŸ§‘ User Selector -->
  <div class="flex justify-center mb-2 text-[clamp(0.7rem,1vw,0.9rem)]">
    <label for="main-user-select" class="mr-2 font-semibold text-cyan-300" data-i18n="stats.selectUser"></label>
    <select id="main-user-select"
      class="bg-transparent border border-cyan-400/30 rounded px-2 py-1 focus:outline-none focus:ring focus:ring-cyan-500 text-inherit">
    </select>
  </div>

  <!-- ðŸ“ˆ Summary Boxes -->
  <div class="grid grid-cols-5 gap-2 text-[clamp(0.6rem,1vw,0.8rem)]">
    <div class="flex flex-col items-center bg-cyan-900/50 border border-cyan-400/20 rounded-md p-1">
      <span class="uppercase">Total</span>
      <span id="stat-total" class="text-[clamp(0.8rem,1.5vw,1rem)] font-bold text-cyan-400">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-green-900/50 border border-green-400/20 rounded-md p-1">
      <span class="uppercase">Wins</span>
      <span id="stat-wins" class="text-[clamp(0.8rem,1.5vw,1rem)] font-bold text-green-400">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-red-900/50 border border-red-400/20 rounded-md p-1">
      <span class="uppercase">Losses</span>
      <span id="stat-losses" class="text-[clamp(0.8rem,1.5vw,1rem)] font-bold text-red-400">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-purple-900/50 border border-purple-400/20 rounded-md p-1">
      <span class="uppercase">Win%</span>
      <span id="stat-winrate" class="text-[clamp(0.8rem,1.5vw,1rem)] font-bold text-purple-400">â€”</span>
    </div>
    <div class="flex flex-col items-center bg-slate-900/50 border border-slate-400/20 rounded-md p-1">
      <span class="uppercase">Rally</span>
      <span id="stat-longestrally" class="text-[clamp(0.8rem,1.5vw,1rem)] font-bold text-slate-400">â€”</span>
    </div>
  </div>

  <!-- ðŸ“Š Main Content Area -->
  <div class="grid grid-cols-2 gap-4 flex-1 min-h-0 text-[clamp(0.7rem,1vw,0.9rem)]">
    <!-- ðŸ“œ Match History -->
    <div class="bg-cyan-900/20 border border-cyan-400/20 rounded-xl p-3 flex flex-col min-h-0">
      <h3 class="font-semibold text-purple-300 mb-2 text-[clamp(0.8rem,1.5vw,1.1rem)]" data-i18n="stats.lastMatches"></h3>
      <ul id="match-history" class="space-y-1 overflow-auto flex-1 pr-1">
        <!-- JS injects li elements -->
      </ul>
    </div>
<!-- ðŸ“¦ Right Column -->
<div class="flex flex-col flex-1 min-h-0 space-y-3">

  <!-- ðŸ¥‡ Matchup box (top) -->
  <div class="bg-cyan-900/20 border border-cyan-400/20 rounded-xl p-3 flex-[2] min-h-0">
    <div class="flex items-center justify-between mb-2">
      <h3 class="font-semibold text-purple-300 text-[clamp(0.8rem,1.2vw,1rem)]">Matchup</h3>
      <select id="guest-select" class="bg-transparent border border-cyan-400/20 rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:ring-cyan-500">
        <option value="all">All</option>
      </select>
    </div>
    <div class="relative h-full">
      <canvas id="guests-bar" class="pd-y-2 absolute inset-0 w-full h-full"></canvas>
    </div>
  </div>

  <!-- ðŸ“Š Three boxes below, in a single row -->
  <div class="grid grid-cols-3 gap-3 flex-1 min-h-0 text-[clamp(0.7rem,1vw,0.9rem)]">
    <!-- Tournaments -->
    <div class="bg-cyan-900/20 border border-cyan-400/20 rounded-xl p-3 hover:shadow-cyan-400/10 hover:shadow-lg transition">
      <h3 class="font-semibold text-purple-300 mb-2 text-[clamp(0.8rem,1.2vw,1rem)]">Tournaments</h3>
      <div class="flex flex-col space-y-1">
        <div class="flex justify-between"><span>Played</span><span id="tournaments-played" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Finals</span><span id="tournaments-finals" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Won</span><span id="tournaments-won" class="font-semibold">â€”</span></div>
      </div>
    </div>

    <!-- Averages -->
    <div class="bg-cyan-900/20 border border-cyan-400/20 rounded-xl p-3 hover:shadow-cyan-400/10 hover:shadow-lg transition">
      <h3 class="font-semibold text-purple-300 mb-2 text-[clamp(0.8rem,1.2vw,1rem)]">Averages</h3>
      <div class="flex flex-col space-y-1">
        <div class="flex justify-between"><span>Inputs</span><span id="avg-inputs" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Length</span><span id="avg-length" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Wall Bounces</span><span id="avg-wallBounces" class="font-semibold">â€”</span></div>
      </div>
    </div>

    <!-- General -->
    <div class="bg-cyan-900/20 border border-cyan-400/20 rounded-xl p-3 hover:shadow-cyan-400/10 hover:shadow-lg transition">
      <h3 class="font-semibold text-purple-300 mb-2 text-[clamp(0.8rem,1.2vw,1rem)]">General</h3>
      <div class="flex flex-col space-y-1">
        <div class="flex justify-between"><span>Time</span><span id="total-time" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Inputs</span><span id="total-inputs" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Wall</span><span id="total-wallBounces" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Hits</span><span id="total-hits" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Pts Won</span><span id="total-pointswon" class="font-semibold">â€”</span></div>
        <div class="flex justify-between"><span>Pts Lost</span><span id="total-pointslost" class="font-semibold">â€”</span></div>
      </div>
    </div>
  </div>

</div>
